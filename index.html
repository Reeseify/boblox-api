<!doctype html>
<label class="block mb-2">
<span class="text-slate-300">placeId</span>
<input id="placeId" class="mt-1 w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2" placeholder="123" />
</label>
<button id="btnLoadPlace" class="mt-2 px-3 py-2 rounded-lg bg-cyan-600 hover:bg-cyan-500">Fetch</button>
<pre id="outPlace" class="mt-3 whitespace-pre-wrap text-xs text-slate-300"></pre>
</div>


<!-- Assets List -->
<div class="p-4 rounded-xl bg-slate-800/50 border border-slate-700">
<h3 class="font-semibold mb-2">GET /assets/list</h3>
<button id="btnAssets" class="mt-2 px-3 py-2 rounded-lg bg-amber-600 hover:bg-amber-500">List</button>
<pre id="outAssets" class="mt-3 whitespace-pre-wrap text-xs text-slate-300"></pre>
</div>
</div>
</section>
</main>


<footer class="text-center text-xs text-slate-500 py-10">Â© Boblox</footer>


<script>
const base = '';
async function j(req) {
try {
const res = await req;
const text = await res.text();
try { return JSON.stringify(JSON.parse(text), null, 2); } catch { return text; }
} catch (e) { return String(e); }
}
fetch(base + '/health').then(r=>r.ok?j(r):Promise.resolve('down')).then(t=>{
document.getElementById('status').textContent = 'OK';
}).catch(()=>{document.getElementById('status').textContent='Down';});


document.getElementById('btnSend').onclick = async () => {
const to = document.getElementById('emailTo').value;
const out = document.getElementById('outSend');
out.textContent = await j(fetch(base + '/send-email', {
method: 'POST', headers: {'Content-Type':'application/json'},
body: JSON.stringify({ to })
}));
};


document.getElementById('btnCreate').onclick = async () => {
const username = document.getElementById('newUser').value;
const password = document.getElementById('newPass').value;
const out = document.getElementById('outCreate');
out.textContent = await j(fetch(base + '/create-account', {
method: 'POST', headers: {'Content-Type':'application/json'},
body: JSON.stringify({ username, password })
}));
};


document.getElementById('btnLoadPlace').onclick = async () => {
const id = document.getElementById('placeId').value;
const out = document.getElementById('outPlace');
out.textContent = await j(fetch(base + '/load-place?placeId=' + encodeURIComponent(id)));
};


document.getElementById('btnAssets').onclick = async () => {
const out = document.getElementById('outAssets');
out.textContent = await j(fetch(base + '/assets/list'));
};
</script>
</body>
</html>
